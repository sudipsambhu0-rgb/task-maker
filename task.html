<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Tasks</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial, Helvetica, sans-serif;}
    body{min-height:100vh;background:linear-gradient(135deg,#000,#0a0015);color:white;display:flex;justify-content:center;align-items:flex-start;padding:40px;}
    .container{width:90%;max-width:500px;background:rgba(255,255,255,0.05);padding:25px;border-radius:15px;box-shadow:0 0 25px rgba(138,43,226,0.45);}
    h2{text-align:center;margin-bottom:20px;color:#19FF00;}
    ul{list-style:none;}
    li{display:flex;align-items:center;gap:12px;padding:12px;margin-bottom:12px;background:rgba(255,255,255,0.08);border-radius:12px;transition:0.3s;}
    li:hover{background:rgba(255,255,255,0.15);transform:scale(1.02);}
    input[type="checkbox"]{transform:scale(1.4);cursor:pointer;accent-color:#19FF00;}
    .task-text{flex:1;font-size:17px;}
    .completed{text-decoration:line-through;color:#888;}
    .empty{text-align:center;opacity:0.7;margin-top:30px;}
    .bottom-nav{position:fixed;bottom:0;left:0;width:100%;height:70px;background:#0a0015;display:flex;justify-content:space-around;align-items:center;border-top:1px solid rgba(255,255,255,0.1);}
    .bottom-nav button{height:45px;width:110px;background:purple;border:none;border-radius:20px;color:white;font-size:15px;cursor:pointer;transition:0.3s;}
    .bottom-nav button:hover{background:#7a2cff;box-shadow:0 0 10px purple;}
  </style>
</head>
<body>

<div class="container">
  <h2 id="workTitle">Your Tasks</h2>
  <ul id="taskList"></ul>
</div>

<div class="bottom-nav">
  <button id="addBtn">Add</button>
  <button id="completeBtn">Completed</button>
  <button id="incompleteBtn">Incomplete</button>
</div>

<script>
let workTitle = document.getElementById("workTitle");
let taskList = document.getElementById("taskList");
let addBtn = document.getElementById("addBtn");
let completeBtn = document.getElementById("completeBtn");
let incompleteBtn = document.getElementById("incompleteBtn");

// Navigation
addBtn.onclick = () => window.location.href = "add.html";
completeBtn.onclick = () => window.location.href = "complete.html";
incompleteBtn.onclick = () => window.location.href = "incomplete.html";

// Load user tasks
let data = JSON.parse(localStorage.getItem("taskData"));

if(!data || !data.tasks || data.tasks.length === 0){
  workTitle.innerText = "No Work Found";
  taskList.innerHTML = "<p class='empty'>Please add a work to see tasks</p>";
} else {
  workTitle.innerText = data.work.toUpperCase() + " TASKS";
  data.tasks.forEach((task, index) => {
    let li = document.createElement("li");

    // Checkbox
    let cb = document.createElement("input");
    cb.type = "checkbox";
    cb.checked = task.completed;

    // Task text
    let span = document.createElement("span");
    span.className = "task-text";
    span.innerText = task.title;
    if(task.completed) span.classList.add("completed");

    // Checkbox change event
    cb.onchange = () => {
      task.completed = cb.checked;
      span.classList.toggle("completed", cb.checked);
      localStorage.setItem("taskData", JSON.stringify(data));
    };

    li.appendChild(cb);
    li.appendChild(span);
    taskList.appendChild(li);
  });
}
</script>

</body>
</html>